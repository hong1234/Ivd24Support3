{% extends 'baseList.html.twig' %}

{% block title %}Makler Overview{% endblock %}

{% block content %}
    <!-- Content Wrapper. Contains page content -->
    <div class="content-wrapper">
        <section class="content-header">
            <h1>Makler bearbeiten</h1>
        </section>
        <!-- Main content -->
        <section class="content">
            <div class="row">
                <div class="col-xs-12">
                    <div class="box">
                        <div class="box-header">
                            <h3 class="box-title">Ãœbersicht</h3>
                            <div id="moredata"></div>
                        </div>
                        <!-- /.box-header -->
                        <div class="box-body">
                            <table id="example1" class="table table-bordered table-striped display" width="100%">
                                <thead>
                                    <tr>
                                        <th style='width: 8%;'>User-ID</th>
                                        <th style='width: 8%;'>Mitgliedsnummer</th>
                                        <th style='width: 14%;'>Vorname, Name</th>
                                        <th style='width: 16%;'>Firma</th>
                                        <th style='width: 16%;'>E-Mail</th>
                                        {# <th style='width: 14%;'>Seo-Url</th> #}
                                        <th style='width: 10%;'>Reg-Datum</th>
                                        <th style='width: 10%;'>Last-Login</th>
                                        <th style='width: 18%;'>&nbsp;</th>
                                    </tr>
                                </thead>
                            </table>   
                        </div>
                    </div>
                </div>
            </div>
        </section>
  </div>
  <!-- /.content-wrapper -->
{% endblock %}

{% block footer %}
    {{ parent() }}

    <script>
        {# $(document).ready(function() {
            var myElemente = document.getElementsByClassName("into_delete-list");
            for(var i = 0; i < myElemente.length; i++) {
                myElemente[i].addEventListener("click", function(event){
                    var answer = window.confirm("Wollen Sie den Makler wirklich in Del-List schieben?");
                    if (answer) {
                        //some code
                    }
                    else {
                        //some code
                        event.preventDefault();
                    } 
                });
            }  
        }); #}

        {# $(document).ready(function() {
            var myElemente = document.getElementsByClassName("sorting_1");
            for(var i = 0; i < myElemente.length; i++) {
                myElemente[i].addEventListener("click", function(event){
                    alert("Bitte geben Sie PLZ-Angabe zuerst");
                });
            }  
        }); #}

        function moreInfo(elem, param) {
            //console.log(elem.parentElement.parentElement);
            //var newElem = document.createElement ("tr");
            //newElem.innerHTML = "sample text";
            //newElem.style.color = "red";

            //elem.parentElement.parentElement.appendChild( newElem );

            //var el = document.createElement("span");
            //el.innerHTML = "test";
            //var div = document.getElementById("foo");
            

            //newElem.innerHTML = "sample text";
            //newElem.style.color = "red";
            //var el = document.createElement("td");
            //el.innerHTML = "sample text";
            //elem.parentElement.parentElement.appendChild( newElem );
            //insertAfter(elem.parentElement.parentElement, newElem).appendChild( el );

            $.ajax({
              method: "POST",
              url: "/maklerdata",
              data: { maklerId: param }
            })
            .done(function(res) {
                // var s= document.getElementById('moredata');
                // s.innerHTML = '<h1>'+res.data+'</h1>';
                var newElem = document.createElement ("tr");
                var el = document.createElement("td");
                el.innerHTML = res.data;
                el.style.width = "100%";
                insertAfter(elem.parentElement.parentElement, newElem).appendChild( el );
            });
        }

        function insertAfter(referenceNode, newNode) {
            return referenceNode.parentNode.insertBefore(newNode, referenceNode.nextSibling);
        }  

    </script>
{% endblock %}